"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[202],{302:(e,s,a)=>{a.d(s,{Vp:()=>t,uL:()=>c});a(43);var l=a(579);const r=()=>(0,l.jsxs)("div",{className:"bg-deep-black/60 rounded-lg overflow-hidden backdrop-blur-sm border border-luxury-gold/20 animate-pulse",children:[(0,l.jsx)("div",{className:"aspect-square bg-gray-800"}),(0,l.jsxs)("div",{className:"p-2 sm:p-3 space-y-2",children:[(0,l.jsx)("div",{className:"h-4 bg-gray-800 rounded w-3/4"}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("div",{className:"h-3 bg-gray-800 rounded w-full"}),(0,l.jsx)("div",{className:"h-3 bg-gray-800 rounded w-2/3"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"h-3 bg-gray-800 rounded w-16"}),(0,l.jsx)("div",{className:"h-3 bg-gray-800 rounded w-8"})]}),(0,l.jsx)("div",{className:"h-4 bg-gray-800 rounded w-1/2"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("div",{className:"h-8 bg-gray-800 rounded"}),(0,l.jsx)("div",{className:"h-8 bg-gray-800 rounded"})]}),(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsx)("div",{className:"h-6 bg-gray-800 rounded-full w-16"})})]})]}),t=e=>{let{count:s=8}=e;return(0,l.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[...Array(s)].map(((e,s)=>(0,l.jsx)(r,{},s)))})},c=()=>(0,l.jsx)("div",{className:"min-h-screen pt-14 md:pt-20 bg-deep-black",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("div",{className:"aspect-square bg-gray-800 rounded-lg animate-pulse"}),(0,l.jsx)("div",{className:"flex gap-2",children:[...Array(4)].map(((e,s)=>(0,l.jsx)("div",{className:"w-16 h-16 bg-gray-800 rounded animate-pulse"},s)))})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("div",{className:"h-8 bg-gray-800 rounded w-3/4 animate-pulse"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("div",{className:"h-4 bg-gray-800 rounded w-full animate-pulse"}),(0,l.jsx)("div",{className:"h-4 bg-gray-800 rounded w-2/3 animate-pulse"})]}),(0,l.jsx)("div",{className:"h-6 bg-gray-800 rounded w-1/2 animate-pulse"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("div",{className:"h-10 bg-gray-800 rounded animate-pulse"}),(0,l.jsx)("div",{className:"h-10 bg-gray-800 rounded animate-pulse"})]})]})]})})})},202:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var l=a(43),r=a(767),t=a(169),c=a(114),i=a(505),n=a(302),d=a(459),o=a(579);const x=()=>{const{id:e}=(0,r.g)(),s=(0,r.Zp)(),{addToCart:a}=(0,t._$)(),{showSuccess:x,showError:h}=(0,c.h)(),[m,g]=(0,l.useState)(null),[u,p]=(0,l.useState)(!0),[j,b]=(0,l.useState)(null),[N,v]=(0,l.useState)(1),[y,f]=(0,l.useState)(0),[w,k]=(0,l.useState)(!0);(0,l.useEffect)((()=>{C()}),[e]),(0,l.useEffect)((()=>{if(null===m||void 0===m||!m.images||m.images.length<=1||!w)return;const e=setInterval((()=>{f((e=>(e+1)%m.images.length))}),3e3);return()=>clearInterval(e)}),[m,w]);const C=async()=>{try{p(!0);const s=await i.A.getProductById(e);g(s)}catch(s){console.error("Error fetching product:",s),b("Kh\xf4ng th\u1ec3 t\u1ea3i th\xf4ng tin s\u1ea3n ph\u1ea9m. Vui l\xf2ng th\u1eed l\u1ea1i sau.")}finally{p(!1)}},A=e=>{v((s=>Math.max(1,Math.min(s+e,(null===m||void 0===m?void 0:m.stock)||999))))},S=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e);return u?(0,o.jsx)("div",{className:"container mx-auto px-4 py-8 pt-20",children:(0,o.jsx)(n.uL,{})}):j?(0,o.jsx)("div",{className:"container mx-auto px-4 py-8 pt-20",children:(0,o.jsx)("div",{className:"text-center",children:(0,o.jsxs)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-6 max-w-md mx-auto",children:[(0,o.jsx)("p",{className:"text-red-400 mb-4",children:j}),(0,o.jsx)("button",{onClick:C,className:"bg-luxury-gold text-deep-black px-6 py-3 rounded-full font-bold hover:bg-luxury-copper transition-colors",children:"Th\u1eed L\u1ea1i"})]})})}):m?(0,o.jsx)("div",{className:"container mx-auto px-4 py-8 pt-20",children:(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"relative aspect-[4/3] bg-white/5 rounded-lg overflow-hidden",children:[(0,o.jsx)("img",{src:m.images[y],alt:m.name,className:"w-full h-full object-cover"}),(0,o.jsxs)("div",{className:"absolute top-4 right-4 flex items-center space-x-2",children:[(0,o.jsx)("button",{onClick:()=>k(!w),className:"bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition-colors",children:w?"\u23f8\ufe0f":"\u25b6\ufe0f"}),(0,o.jsxs)("div",{className:"bg-black/50 text-white px-2 py-1 rounded text-xs",children:[y+1,"/",m.images.length]})]})]}),(0,o.jsx)("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:m.images.map(((e,s)=>(0,o.jsx)("button",{onClick:()=>{f(s),k(!1)},className:"flex-shrink-0 w-16 h-16 rounded-md overflow-hidden border-2 transition-colors ".concat(s===y?"border-luxury-gold":"border-white/20 hover:border-white/40"),children:(0,o.jsx)("img",{src:e,alt:"".concat(m.name," ").concat(s+1),className:"w-full h-full object-cover"})},s)))})]}),(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-luxury-gold mb-2",children:m.name}),(0,o.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map(((e,s)=>(0,o.jsx)(d.A,{icon:s<Math.floor(m.rating)?"star":"star-outline",size:16,color:"#D4AF37"},s))),(0,o.jsxs)("span",{className:"text-gray-300 text-sm ml-2",children:["(",m.rating,")"]})]}),(0,o.jsx)("span",{className:"text-gray-400",children:"|"}),(0,o.jsxs)("span",{className:"text-sm text-gray-400",children:["Danh m\u1ee5c: ",m.category]})]}),(0,o.jsx)("p",{className:"text-gray-300 leading-relaxed",children:m.description})]}),(0,o.jsxs)("div",{className:"border-t border-white/20 pt-6",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,o.jsx)("span",{className:"text-3xl font-bold text-luxury-gold",children:S(m.price)}),m.original_price&&m.original_price>m.price&&(0,o.jsx)("span",{className:"text-lg text-gray-400 line-through",children:S(m.original_price)})]}),(0,o.jsxs)("p",{className:"text-sm text-gray-400",children:["T\xecnh tr\u1ea1ng: ",(0,o.jsxs)("span",{className:"text-green-400",children:["C\xf2n ",m.stock," s\u1ea3n ph\u1ea9m"]})]})]}),(0,o.jsxs)("div",{className:"border-t border-white/20 pt-6",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"S\u1ed1 l\u01b0\u1ee3ng"}),(0,o.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o.jsxs)("div",{className:"flex items-center border border-white/20 rounded-lg",children:[(0,o.jsx)("button",{onClick:()=>A(-1),className:"p-3 hover:bg-white/10 transition-colors flex items-center justify-center",disabled:N<=1,children:(0,o.jsx)(d.A,{icon:"remove-outline",size:20,color:N<=1?"#666":"#fff"})}),(0,o.jsx)("span",{className:"px-4 py-3 text-center min-w-[60px] text-white font-medium",children:N}),(0,o.jsx)("button",{onClick:()=>A(1),className:"p-3 hover:bg-white/10 transition-colors flex items-center justify-center",disabled:N>=m.stock,children:(0,o.jsx)(d.A,{icon:"add-outline",size:20,color:N>=m.stock?"#666":"#fff"})})]}),(0,o.jsxs)("span",{className:"text-gray-400 text-sm",children:["C\xf2n l\u1ea1i: ",m.stock]})]})]}),(0,o.jsx)("div",{className:"border-t border-white/20 pt-6",children:(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,o.jsxs)("button",{onClick:async()=>{if(m)try{await a(m,N),x("\u0110\xe3 th\xeam ".concat(m.name," v\xe0o gi\u1ecf h\xe0ng!"))}catch(j){console.error("Error adding to cart:",j),h("Kh\xf4ng th\u1ec3 th\xeam s\u1ea3n ph\u1ea9m v\xe0o gi\u1ecf h\xe0ng. Vui l\xf2ng th\u1eed l\u1ea1i.")}},className:"flex-1 bg-transparent border-2 border-luxury-gold text-luxury-gold px-6 py-3 rounded-full font-bold hover:bg-luxury-gold hover:text-deep-black transition-colors flex items-center justify-center space-x-2",children:[(0,o.jsx)(d.A,{icon:"bag-add-outline",size:20}),(0,o.jsx)("span",{children:"Th\xeam v\xe0o gi\u1ecf h\xe0ng"})]}),(0,o.jsxs)("button",{onClick:async()=>{if(m)try{await a(m,N),s("/cart")}catch(j){console.error("Error in buy now:",j),h("Kh\xf4ng th\u1ec3 th\xeam s\u1ea3n ph\u1ea9m v\xe0o gi\u1ecf h\xe0ng. Vui l\xf2ng th\u1eed l\u1ea1i.")}},className:"flex-1 bg-gradient-to-r from-luxury-gold to-luxury-copper text-deep-black px-6 py-3 rounded-full font-bold hover:shadow-lg hover:shadow-luxury-gold/30 transition-all flex items-center justify-center space-x-2",children:[(0,o.jsx)(d.A,{icon:"flash-outline",size:20,color:"#1a1a1a"}),(0,o.jsx)("span",{children:"Mua Ngay"})]})]})}),(0,o.jsxs)("div",{className:"border-t border-white/20 pt-6",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Th\xf4ng tin chi ti\u1ebft"}),(0,o.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("span",{className:"text-gray-400",children:"Xu\u1ea5t x\u1ee9:"}),(0,o.jsx)("span",{className:"text-white",children:m.origin||"Vi\u1ec7t Nam"})]}),(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("span",{className:"text-gray-400",children:"Tr\u1ecdng l\u01b0\u1ee3ng:"}),(0,o.jsx)("span",{className:"text-white",children:m.weight||"N/A"})]}),(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("span",{className:"text-gray-400",children:"K\xedch th\u01b0\u1edbc:"}),(0,o.jsx)("span",{className:"text-white",children:m.dimensions||"N/A"})]}),(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("span",{className:"text-gray-400",children:"Ch\u1ea5t li\u1ec7u:"}),(0,o.jsx)("span",{className:"text-white",children:m.material||"Tr\u1ea7m h\u01b0\u01a1ng t\u1ef1 nhi\xean"})]})]})]})]})]})}):(0,o.jsx)("div",{className:"container mx-auto px-4 py-8 pt-20",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-white mb-4",children:"S\u1ea3n ph\u1ea9m kh\xf4ng t\u1ed3n t\u1ea1i"}),(0,o.jsx)("button",{onClick:()=>s("/products"),className:"bg-luxury-gold text-deep-black px-6 py-3 rounded-full font-bold hover:bg-luxury-copper transition-colors",children:"V\u1ec1 Trang S\u1ea3n Ph\u1ea9m"})]})})}}}]);
//# sourceMappingURL=202.203ba9c6.chunk.js.map