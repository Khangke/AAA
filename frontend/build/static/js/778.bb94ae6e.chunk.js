"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[778],{914:(e,s,t)=>{t.d(s,{A:()=>n});var a=t(555),l=t(986),r=t(43),c=t(579);const d=["src","alt","className","placeholder"],n=e=>{let{src:s,alt:t,className:n,placeholder:o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNmNWY1ZjUiLz48L3N2Zz4="}=e,i=(0,l.A)(e,d);const[x,m]=(0,r.useState)(!1),[u,g]=(0,r.useState)(!1),[p,h]=(0,r.useState)(!1),b=(0,r.useRef)(null);(0,r.useEffect)((()=>{const e=new IntersectionObserver((s=>{let[t]=s;t.isIntersecting&&(g(!0),e.disconnect())}),{threshold:.1});return b.current&&e.observe(b.current),()=>e.disconnect()}),[]);return(0,c.jsxs)("div",(0,a.A)((0,a.A)({ref:b,className:"relative overflow-hidden ".concat(n)},i),{},{children:[!x&&(0,c.jsx)("div",{className:"absolute inset-0 bg-gray-800 animate-pulse"}),u&&!p&&(0,c.jsx)("img",{src:s,alt:t,className:"w-full h-full object-cover transition-opacity duration-300 ".concat(x?"opacity-100":"opacity-0"),onLoad:()=>{m(!0)},onError:()=>{h(!0)},loading:"lazy"}),p&&(0,c.jsx)("div",{className:"absolute inset-0 bg-gray-800 flex items-center justify-center",children:(0,c.jsx)("div",{className:"text-gray-400 text-sm",children:"Kh\xf4ng th\u1ec3 t\u1ea3i h\xecnh \u1ea3nh"})})]}))}},302:(e,s,t)=>{t.d(s,{Vp:()=>r,uL:()=>c});t(43);var a=t(579);const l=()=>(0,a.jsxs)("div",{className:"bg-deep-black/60 rounded-lg overflow-hidden backdrop-blur-sm border border-luxury-gold/20 animate-pulse",children:[(0,a.jsx)("div",{className:"aspect-square bg-gray-800"}),(0,a.jsxs)("div",{className:"p-2 sm:p-3 space-y-2",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-800 rounded w-3/4"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"h-3 bg-gray-800 rounded w-full"}),(0,a.jsx)("div",{className:"h-3 bg-gray-800 rounded w-2/3"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-3 bg-gray-800 rounded w-16"}),(0,a.jsx)("div",{className:"h-3 bg-gray-800 rounded w-8"})]}),(0,a.jsx)("div",{className:"h-4 bg-gray-800 rounded w-1/2"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-800 rounded"}),(0,a.jsx)("div",{className:"h-8 bg-gray-800 rounded"})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"h-6 bg-gray-800 rounded-full w-16"})})]})]}),r=e=>{let{count:s=8}=e;return(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[...Array(s)].map(((e,s)=>(0,a.jsx)(l,{},s)))})},c=()=>(0,a.jsx)("div",{className:"min-h-screen pt-14 md:pt-20 bg-deep-black",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"aspect-square bg-gray-800 rounded-lg animate-pulse"}),(0,a.jsx)("div",{className:"flex gap-2",children:[...Array(4)].map(((e,s)=>(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-800 rounded animate-pulse"},s)))})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-800 rounded w-3/4 animate-pulse"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-800 rounded w-full animate-pulse"}),(0,a.jsx)("div",{className:"h-4 bg-gray-800 rounded w-2/3 animate-pulse"})]}),(0,a.jsx)("div",{className:"h-6 bg-gray-800 rounded w-1/2 animate-pulse"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-10 bg-gray-800 rounded animate-pulse"}),(0,a.jsx)("div",{className:"h-10 bg-gray-800 rounded animate-pulse"})]})]})]})})})},778:(e,s,t)=>{t.r(s),t.d(s,{default:()=>g});var a=t(43),l=t(169),r=t(729),c=t(114),d=t(767),n=t(914),o=t(579);const i=e=>{let{product:s,onClick:t}=e;const{addToCart:i,isItemInCart:x,getItemQuantity:m}=(0,l._$)(),{isAuthenticated:u}=(0,r.As)(),{showCartNotification:g,showError:p}=(0,c.h)(),h=(0,d.Zp)(),[b,y]=(0,a.useState)(!1),f=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),j=async e=>{if(e.stopPropagation(),s&&s.id){y(!0);try{const e=await i(s,1);e.success?console.log("Product added to cart successfully"):p(e.error||"Kh\xf4ng th\u1ec3 th\xeam v\xe0o gi\u1ecf h\xe0ng")}catch(t){p("C\xf3 l\u1ed7i x\u1ea3y ra khi th\xeam s\u1ea3n ph\u1ea9m v\xe0o gi\u1ecf h\xe0ng")}finally{y(!1)}}else p("S\u1ea3n ph\u1ea9m kh\xf4ng h\u1ee3p l\u1ec7")},v=(N=s.original_price,w=s.price,!N||N<=w?0:Math.round((N-w)/N*100));var N,w;const k=x(s.id),C=m(s.id);return(0,o.jsxs)("div",{className:"bg-deep-black/60 rounded-lg overflow-hidden backdrop-blur-sm border border-luxury-gold/20 hover:border-luxury-gold/40 transition-all duration-300 transform hover:scale-105 cursor-pointer shadow-lg hover:shadow-luxury-gold/20",onClick:()=>{h("/products/".concat(s.id))},children:[(0,o.jsxs)("div",{className:"relative aspect-square bg-gradient-to-br from-luxury-gold/20 to-luxury-copper/20 flex items-center justify-center overflow-hidden",children:[(0,o.jsx)(n.A,{src:s.image_url,alt:s.name,className:"w-full h-full transition-transform duration-300 hover:scale-110"}),v>0&&(0,o.jsxs)("div",{className:"absolute top-1 left-1 bg-red-500 text-white px-1 py-0.5 rounded text-xs font-bold",children:["-",v,"%"]}),s.featured&&(0,o.jsx)("div",{className:"absolute top-1 right-1 bg-luxury-gold text-deep-black px-1 py-0.5 rounded text-xs font-bold",children:"N\u1ed5i B\u1eadt"}),k&&(0,o.jsxs)("div",{className:"absolute top-1 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-1 py-0.5 rounded text-xs font-bold",children:["Trong gi\u1ecf: ",C]}),!s.in_stock&&(0,o.jsx)("div",{className:"absolute inset-0 bg-deep-black/70 flex items-center justify-center",children:(0,o.jsx)("span",{className:"text-white font-bold text-xs",children:"H\u1ebft H\xe0ng"})})]}),(0,o.jsxs)("div",{className:"p-2 sm:p-3 space-y-1.5 sm:space-y-2",children:[(0,o.jsx)("h3",{className:"font-luxury text-xs sm:text-sm font-bold text-luxury-gold line-clamp-2 leading-tight",children:s.name}),(0,o.jsx)("p",{className:"text-soft-gold text-2xs sm:text-xs leading-tight line-clamp-2 mb-1.5",children:s.description}),(0,o.jsxs)("div",{className:"flex items-center justify-between mb-1.5",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"flex text-yellow-400 text-xs",children:[...Array(5)].map(((e,t)=>(0,o.jsx)("span",{className:t<Math.floor(s.rating)?"text-yellow-400":"text-gray-500",children:"\u2605"},t)))}),(0,o.jsxs)("span",{className:"text-soft-gold text-2xs sm:text-xs ml-1",children:["(",s.reviews_count,")"]})]}),(0,o.jsxs)("div",{className:"text-2xs sm:text-xs text-soft-gold",children:[s.rating,"/5"]})]}),(0,o.jsxs)("div",{className:"space-y-1 mb-2",children:[(0,o.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,o.jsx)("span",{className:"text-luxury-gold font-bold text-xs sm:text-sm",children:f(s.price)}),s.original_price&&s.original_price>s.price&&(0,o.jsx)("span",{className:"text-soft-gold/60 text-2xs sm:text-xs line-through",children:f(s.original_price)})]}),v>0&&(0,o.jsxs)("div",{className:"text-green-400 text-2xs sm:text-xs font-semibold",children:["Ti\u1ebft ki\u1ec7m ",f(s.original_price-s.price)]})]}),(0,o.jsxs)("div",{className:"flex items-center justify-between mb-1.5",children:[(0,o.jsxs)("span",{className:"text-soft-gold text-2xs sm:text-xs",children:["C\xf2n l\u1ea1i: ",s.stock_quantity," s\u1ea3n ph\u1ea9m"]}),s.stock_quantity<=5&&(0,o.jsx)("span",{className:"text-red-400 text-2xs sm:text-xs font-semibold",children:"S\u1eafp h\u1ebft h\xe0ng!"})]}),(0,o.jsx)("button",{className:"w-full px-2 py-1.5 sm:px-3 sm:py-2 rounded-lg font-bold text-xs sm:text-sm transition-all duration-300 shadow-md ".concat(s.in_stock?k?"bg-green-600 hover:bg-green-700 text-white":"bg-luxury-gold hover:bg-luxury-copper text-deep-black":"bg-gray-500 text-gray-300 cursor-not-allowed"," disabled:opacity-50 disabled:cursor-not-allowed"),disabled:!s.in_stock||b,onClick:j,children:b?"\u0110ang th\xeam...":s.in_stock?k?"Th\xeam n\u1eefa (".concat(C,")"):"Th\xeam v\xe0o gi\u1ecf":"H\u1ebft H\xe0ng"}),s.in_stock&&(0,o.jsx)("button",{className:"w-full bg-transparent border border-luxury-gold text-luxury-gold px-2 py-1.5 sm:px-3 sm:py-2 rounded-lg font-bold text-xs sm:text-sm hover:bg-luxury-gold hover:text-deep-black transition-all duration-300",onClick:e=>{e.stopPropagation(),j(e).then((()=>{h("/cart")}))},children:"Mua Ngay"}),(0,o.jsx)("div",{className:"flex justify-center mt-1.5",children:(0,o.jsx)("span",{className:"inline-block bg-luxury-gold/20 text-luxury-gold px-1.5 py-0.5 rounded-full text-2xs sm:text-xs",children:s.category})})]})]})};var x=t(302),m=t(505),u=t(325);const g=()=>{const[e,s]=(0,a.useState)([]),[t,l]=(0,a.useState)([]),[r,c]=(0,a.useState)([]),[d,n]=(0,a.useState)(!0),[g,p]=(0,a.useState)(null),[h,b]=(0,a.useState)("all"),[y,f]=(0,a.useState)(""),[j,v]=(0,a.useState)("featured"),[N,w]=(0,a.useState)(!1);(0,a.useEffect)((()=>{k(),C()}),[]);const k=async()=>{try{n(!0);const e=await m.A.getAllProducts();s(e),l(e)}catch(e){console.error("Error fetching products:",e),p("Kh\xf4ng th\u1ec3 t\u1ea3i s\u1ea3n ph\u1ea9m. Vui l\xf2ng th\u1eed l\u1ea1i sau.")}finally{n(!1)}},C=async()=>{try{const e=await m.A.getCategories();c(e.categories)}catch(s){console.error("Error fetching categories:",s);const t=[...new Set(e.map((e=>e.category)))];c(t)}},I=(0,a.useMemo)((()=>(0,u.sg)((e=>{f(e)}),300)),[]);(0,a.useEffect)((()=>{let s=[...e];switch("all"!==h&&(s=s.filter((e=>e.category===h))),y&&(s=s.filter((e=>e.name.toLowerCase().includes(y.toLowerCase())||e.description.toLowerCase().includes(y.toLowerCase())||e.tags.some((e=>e.toLowerCase().includes(y.toLowerCase())))))),N&&(s=s.filter((e=>e.featured))),j){case"price-low":s.sort(((e,s)=>e.price-s.price));break;case"price-high":s.sort(((e,s)=>s.price-e.price));break;case"rating":s.sort(((e,s)=>s.rating-e.rating));break;case"newest":s.sort(((e,s)=>new Date(s.created_at)-new Date(e.created_at)));break;default:s.sort(((e,s)=>e.featured&&!s.featured?-1:!e.featured&&s.featured?1:s.rating-e.rating))}l(s)}),[e,h,y,j,N]);const S=e=>{console.log("Product clicked:",e)},A=()=>{b("all"),f(""),v("featured"),w(!1)};return d?(0,o.jsx)("div",{className:"min-h-screen pt-16 md:pt-20 bg-deep-black mobile-nav-padding",children:(0,o.jsxs)("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4 sm:py-6",children:[(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("div",{className:"h-8 bg-gray-800 rounded w-64 mb-4 animate-pulse"}),(0,o.jsx)("div",{className:"h-4 bg-gray-800 rounded w-96 animate-pulse"})]}),(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[...Array(4)].map(((e,s)=>(0,o.jsx)("div",{className:"h-10 bg-gray-800 rounded animate-pulse"},s)))}),(0,o.jsx)(x.Vp,{count:8})]})}):g?(0,o.jsx)("div",{className:"min-h-screen pt-16 md:pt-20 bg-gradient-to-b from-deep-black to-charcoal",children:(0,o.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"text-red-500 text-6xl mb-6",children:"\u26a0\ufe0f"}),(0,o.jsx)("h2",{className:"font-luxury text-2xl text-luxury-gold mb-4",children:"C\xf3 L\u1ed7i X\u1ea3y Ra"}),(0,o.jsx)("p",{className:"text-soft-gold mb-6",children:g}),(0,o.jsx)("button",{onClick:k,className:"bg-luxury-gold text-deep-black px-6 py-3 rounded-full font-bold hover:bg-luxury-copper transition-colors",children:"Th\u1eed L\u1ea1i"})]})})}):(0,o.jsx)("div",{className:"min-h-screen pt-16 md:pt-20 bg-deep-black mobile-nav-padding",children:(0,o.jsxs)("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4 sm:py-6",children:[(0,o.jsxs)("div",{className:"text-center mb-4 sm:mb-6",children:[(0,o.jsx)("h1",{className:"font-luxury text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold text-luxury-gold mb-2 sm:mb-4",children:"S\u1ea3n Ph\u1ea9m Tr\u1ea7m H\u01b0\u01a1ng"}),(0,o.jsx)("p",{className:"text-soft-gold text-sm sm:text-base",children:"Kh\xe1m ph\xe1 b\u1ed9 s\u01b0u t\u1eadp tr\u1ea7m h\u01b0\u01a1ng cao c\u1ea5p t\u1eeb Vi\u1ec7t Nam"})]}),(0,o.jsx)("div",{className:"mb-3 sm:mb-4",children:(0,o.jsxs)("div",{className:"relative max-w-md mx-auto",children:[(0,o.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm s\u1ea3n ph\u1ea9m...",onChange:e=>I(e.target.value),className:"w-full px-3 py-2 sm:px-4 sm:py-3 pl-9 sm:pl-12 bg-deep-black/50 border border-luxury-gold/20 rounded-full text-white placeholder-soft-gold focus:outline-none focus:border-luxury-gold/60 transition-colors text-sm sm:text-base"}),(0,o.jsx)("div",{className:"absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 text-luxury-gold text-sm sm:text-base",children:"\ud83d\udd0d"})]})}),(0,o.jsx)("div",{className:"mb-3 sm:mb-6",children:(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-2 sm:gap-4 justify-center items-center",children:[(0,o.jsxs)("div",{className:"w-full sm:w-auto flex items-center gap-2 justify-center",children:[(0,o.jsx)("label",{className:"text-soft-gold text-xs sm:text-sm whitespace-nowrap",children:"Danh m\u1ee5c:"}),(0,o.jsxs)("select",{value:h,onChange:e=>b(e.target.value),className:"flex-1 sm:flex-none px-2 py-1 sm:px-3 sm:py-2 bg-deep-black/50 border border-luxury-gold/20 rounded-lg text-white focus:outline-none focus:border-luxury-gold/60 text-xs sm:text-sm",children:[(0,o.jsx)("option",{value:"all",children:"T\u1ea5t c\u1ea3"}),r.map((e=>(0,o.jsx)("option",{value:e,children:e},e)))]})]}),(0,o.jsxs)("div",{className:"w-full sm:w-auto flex items-center gap-2 justify-center",children:[(0,o.jsx)("label",{className:"text-soft-gold text-xs sm:text-sm whitespace-nowrap",children:"S\u1eafp x\u1ebfp:"}),(0,o.jsxs)("select",{value:j,onChange:e=>v(e.target.value),className:"flex-1 sm:flex-none px-2 py-1 sm:px-3 sm:py-2 bg-deep-black/50 border border-luxury-gold/20 rounded-lg text-white focus:outline-none focus:border-luxury-gold/60 text-xs sm:text-sm",children:[(0,o.jsx)("option",{value:"featured",children:"N\u1ed5i b\u1eadt"}),(0,o.jsx)("option",{value:"price-low",children:"Gi\xe1 th\u1ea5p \u2192 cao"}),(0,o.jsx)("option",{value:"price-high",children:"Gi\xe1 cao \u2192 th\u1ea5p"}),(0,o.jsx)("option",{value:"rating",children:"\u0110\xe1nh gi\xe1 cao nh\u1ea5t"}),(0,o.jsx)("option",{value:"newest",children:"M\u1edbi nh\u1ea5t"})]})]}),(0,o.jsx)("div",{className:"w-full sm:w-auto flex items-center justify-center gap-2",children:(0,o.jsxs)("label",{className:"text-soft-gold text-xs sm:text-sm flex items-center",children:[(0,o.jsx)("input",{type:"checkbox",checked:N,onChange:e=>w(e.target.checked),className:"mr-1 sm:mr-2"}),"Ch\u1ec9 s\u1ea3n ph\u1ea9m n\u1ed5i b\u1eadt"]})}),(0,o.jsx)("button",{onClick:A,className:"text-luxury-gold hover:text-luxury-copper transition-colors text-xs sm:text-sm underline",children:"X\xf3a b\u1ed9 l\u1ecdc"})]})}),(0,o.jsx)("div",{className:"mb-2 sm:mb-4 text-center",children:(0,o.jsxs)("p",{className:"text-soft-gold text-xs sm:text-sm",children:["Hi\u1ec3n th\u1ecb ",t.length," s\u1ea3n ph\u1ea9m","all"!==h&&' trong danh m\u1ee5c "'.concat(h,'"')]})}),t.length>0?(0,o.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-1.5 sm:gap-3 md:gap-4",children:t.map((e=>(0,o.jsx)(i,{product:e,onClick:S},e.id)))}):(0,o.jsxs)("div",{className:"text-center py-8 sm:py-12",children:[(0,o.jsx)("div",{className:"text-soft-gold text-4xl sm:text-6xl mb-4 sm:mb-6",children:"\ud83d\udd0d"}),(0,o.jsx)("h3",{className:"font-luxury text-lg sm:text-xl text-luxury-gold mb-2 sm:mb-4",children:"Kh\xf4ng t\xecm th\u1ea5y s\u1ea3n ph\u1ea9m"}),(0,o.jsx)("p",{className:"text-soft-gold mb-4 sm:mb-6 text-sm sm:text-base",children:"Th\u1eed thay \u0111\u1ed5i b\u1ed9 l\u1ecdc ho\u1eb7c t\u1eeb kh\xf3a t\xecm ki\u1ebfm"}),(0,o.jsx)("button",{onClick:A,className:"bg-luxury-gold text-deep-black px-4 py-2 sm:px-6 sm:py-3 rounded-full font-bold hover:bg-luxury-copper transition-colors text-sm sm:text-base",children:"X\xf3a B\u1ed9 L\u1ecdc"})]}),t.length>0&&(0,o.jsx)("div",{className:"text-center mt-8 sm:mt-12",children:(0,o.jsx)("button",{className:"bg-gradient-to-r from-luxury-gold to-luxury-copper text-deep-black px-6 py-2 sm:px-8 sm:py-3 rounded-full font-bold hover:shadow-lg hover:shadow-luxury-gold/30 transition-all duration-300 transform hover:scale-105 text-sm sm:text-base",onClick:()=>{console.log("Load more products")},children:"Xem Th\xeam S\u1ea3n Ph\u1ea9m"})})]})})}}}]);
//# sourceMappingURL=778.bb94ae6e.chunk.js.map